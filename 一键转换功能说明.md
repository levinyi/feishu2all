# 🚀 一键转换功能使用说明

## ✨ 新功能介绍

现在你的插件已经支持**一键自动转换**功能！只需点击插件图标，就能自动获取当前页面链接并开始转换。

## 🎯 功能特点

### 1. 智能URL检测
- **自动获取**：点击插件图标自动获取当前页面URL
- **智能识别**：支持飞书、Notion、语雀、Google Docs等平台
- **实时提示**：输入框会显示检测到的平台类型

### 2. 一键操作流程
```
点击插件图标 → 自动获取URL → 自动填入输入框 → 自动开始转换
```

### 3. 支持的文档平台
- 📄 **飞书文档** - `*.feishu.cn/wiki/*`, `*.feishu.cn/docx/*`
- 📝 **Notion** - `*.notion.so/*`
- 📚 **语雀** - `*.yuque.com/*`
- 📄 **Google Docs** - `docs.google.com/document/*`

## 🔧 使用方法

### 方法一：一键自动转换（推荐）
1. 打开任意支持的文档页面（如飞书文档）
2. 点击浏览器工具栏中的插件图标
3. 插件会自动：
   - 获取当前页面URL
   - 打开转换界面
   - 自动填入URL到输入框
   - 自动开始转换

### 方法二：手动输入
1. 点击插件图标打开转换界面
2. 手动粘贴文档链接到输入框
3. 点击"开始转换"按钮

## 🎨 界面优化

### 智能输入框
- **动态占位符**：根据检测结果显示不同提示文字
- **平台图标**：显示对应平台的emoji图标
- **实时验证**：自动验证URL格式和有效性
- **清理功能**：自动移除跟踪参数，保持URL简洁

### 用户体验提升
- **即时反馈**：输入URL时立即显示检测结果
- **错误提示**：无效URL会显示友好的错误信息
- **防重复点击**：避免频繁操作导致的问题

## 🛠 技术实现

### 权限配置
插件已添加必要权限：
- `tabs` - 获取当前标签页信息
- `activeTab` - 访问当前活跃标签页
- `scripting` - 注入脚本到目标页面

### 核心功能
1. **URL检测算法**：使用正则表达式精确匹配各平台URL格式
2. **自动填充机制**：通过URL参数传递，实现页面间数据传递
3. **智能转换**：根据检测到的平台类型自动选择转换方式

## 📋 使用场景

### 场景1：飞书文档转公众号
1. 在飞书中打开要转换的文档
2. 点击插件图标
3. 自动转换完成后，选择"公众号"格式
4. 一键复制到微信公众号编辑器

### 场景2：Notion笔记转知乎
1. 在Notion中打开笔记页面
2. 点击插件图标
3. 转换完成后选择"知乎"格式
4. 直接发布到知乎专栏

### 场景3：语雀文档转小红书
1. 在语雀中打开文档
2. 点击插件图标
3. 选择"图文"标签页
4. 生成小红书风格的图文内容

## 🔍 故障排除

### 常见问题

**Q: 点击插件图标没有自动填入URL？**
A: 请确保：
- 当前页面是支持的文档平台
- 插件有足够的权限
- 页面已完全加载

**Q: 检测不到文档平台？**
A: 请检查：
- URL格式是否正确
- 是否为分享链接而非编辑链接
- 尝试手动输入URL

**Q: 转换失败？**
A: 可能原因：
- 文档权限不足（需要公开或有访问权限）
- 网络连接问题
- 文档内容格式不支持

### 获取帮助
如遇到问题，请：
1. 检查浏览器控制台是否有错误信息
2. 确认文档链接可以正常访问
3. 尝试重新安装插件

## 🎉 总结

新的一键转换功能让文档转换变得前所未有的简单！只需一次点击，就能完成从获取链接到开始转换的全部流程，大大提升了使用效率。

**享受更便捷的文档转换体验吧！** 🚀